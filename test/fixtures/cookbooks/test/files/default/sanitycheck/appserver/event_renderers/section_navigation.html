## inherit the default renderer structural elements
<%inherit file="//results/EventsViewer_default_renderer.html" />



<%def name="event_layout(job, event, request, options, xslt)">
    <%
    ######
    # We dont actually expose a simple way of getting a given field value. 
    # my first attempt was a mako def, but it's way less of a PITA to just write 
    # it in python. 
    ######
    def get_field_value(event, name):
        if event.fields.has_key(name) :
            for field_index, field in enumerate(event.fields[name]):
                return field

    view        = get_field_value(event, "view")
    name        = get_field_value(event, "name")
    description = get_field_value(event, "description")
    lastRun     = get_field_value(event, "lastRun")
    
    %>
    
    <div class="customNavigation" s:view="${view|h}">
        <span>last run: ${lastRun|h}</span>
        <h1>${name|h}</h1>
        <p>${description|h}</p>
        
    </div>
</%def>\